# Опис на апликацијата

Апликацијата претставува игра во која корисникот е хеликоптер и има одредени пречки кои треба да ги избегнува.

#### Упатство за користење

На стартување на апликацијата се прикажува прозорец во кој може да се избере нивото на тежина на играта од следните опции:
- Easy
- Medium
- Hard

<img width="202" alt="image" src="https://github.com/dariodimitrovski/Shooting-Helicopter/assets/157757769/45fe74bd-4f3d-42a7-8351-625e00a42030">

Откако ќе се избере тежина и ќе се притисне “ОК“ играта започнува.
Кога ќе започне играта корисникот со притискање на Space пука од хеликоптерот со цел да ги сруши Непознатите летечки објекти и вонземјаните, а истовремено на секој истрел се менува позадината на корисникот.

Во зависност од типот на вонземјанинот или летечкиот објект, можно е да се потребни два истрели за да се сруши објектот.
Исто така, со копчињата за нагоре и надоле треба да ги избегнува пречките кои се појавуваат пред хеликоптерот.

Исто така корисникот има можност да ја паузира играта со притискање на копчето “P”.

<img width="468" alt="image" src="https://github.com/dariodimitrovski/Shooting-Helicopter/assets/157757769/02c7cbc4-1643-403f-986d-ac8fb08cc471">

### Health

Health претставува бројот на НЛО и вонземјани кои може хеликоптерот да ги удри пред играта да се смета за завршена.
Корисникот на почеток има Health 3 и со секој удар кон НЛО или вонземјанин Health-от се намалува за 1.
Со секој score од 5, 20 ,40 му се додава на корисникот “живот” плус.

### Тежина на играта

Според претходно кажаното, корисникот може да избере тежина на играта.
Промените кои се применуваат во однос на тежината се брзина на хеликоптерот, брзина на летечките објекти и бројот на летечки објекти.

### High Score

За корисникот се чува High Score, односно тоа претставува бројот на срушени објекти во една игра и се прикажува кога корисникот ќе постигне нов најдобар резултат.

### Game Over

Откога корисникот ќе се удри во три објекти, играта завршува, а со притискање на “Enter” може да започне нова игра.

## Клучни класи и нивни улоги

1. **Form1 (Главна Играчка Форма):**
-	Управува со основните механики на играта и интеракциите на корисникот.
-	Контролира движења на играчот, однесување на НЛО, детекција на судири.
-	Користи Timer (GameTimer) за управување со (MainTimerEvent).
2. **DifficultyForm:**
-	Обезбедува дијалог за играчот да избере ниво на тежина на играта.
-	Чува избрано ниво на тежина, кое влијае на различни параметри на играта.
3. **IGameSubject:**
-	Интерфејс за главната форма на играта (Form1).
-	Поддржува неколку методи за ажурирања на поени, “животи” и крај на играта.
4. **IGameObserver:**
-	Интерфејс за секоја “observer class” што сака да прима ажурирања од играта.
-	Содржи методи за ажурирање на поени, “животи” и управување со известувања за крај на играта.

## Податочни структури

1.	**Променливи, објекти и листи:**
-	`playerSpeed, speed, UFOSpeed`: Цели броеви кои ја контролираат брзината на хеликоптерот, елементите на играта и НЛО.
-	`score, highScore, index, Health`: Цели броеви кои ги следат поените на играчот, највисоките поени, тековниот индекс на НЛО и здравјето на играчот.
-	`goUp, goDown, shot, gameOver, paused`: Булови вредности кои ги следат состојбите на внесување на играчот и состојбите на играта.
-	`random, colorRandom`: Инстанци на класата Random за генерирање случајни позиции и бои.
-	`observers: List<IGameObserver>` за следење на сите регистрирани observers кои треба да бидат известени за настани на играта.
-	`healthMilestones: List<int>` која чува вредности на поени при кои “животите” на играчот треба да се зголемат.

## Опис на MainTimerEvent Функцијата

```
private void MainTimerEvent(object sender, EventArgs e)
{
    txtScore.Text = "Score: " + score + " Health: " + Health;

    if (!paused)
    {
        if (goUp && helicopter.Top > 0)
        {
            helicopter.Top -= playerSpeed;
        }
        if (goDown && helicopter.Top + helicopter.Height < ClientSize.Height)
        {
            helicopter.Top += playerSpeed;
        }

        ufo.Left -= UFOSpeed;

        if (ufo.Left + ufo.Width < 0)
        {
            ChangeUFO();
        }

        foreach (Control x in Controls)
        {
            if (x is PictureBox && (string)x.Tag == "pillar")
            {
                x.Left -= speed;

                if (x.Left <= -200)
                {
                    x.Left = 1000;
                }

                if (helicopter.Bounds.IntersectsWith(x.Bounds))
                {
                    DecreaseHealth();
                }
            }

            if (x is PictureBox && (string)x.Tag == "bullet")
            {
                x.Left += 25;
                if (x.Left > 800)
                {
                    RemoveBullet((PictureBox)x);
                }

                if (ufo.Bounds.IntersectsWith(x.Bounds))
                {
                    RemoveBullet((PictureBox)x);
                    if (index == 1)
                    {
                        index = 0;
                    }
                    else
                    {
                        score += 1;
                        ChangeUFO();
                    }
                }
            }
        }

        if (helicopter.Bounds.IntersectsWith(ufo.Bounds))
        {
            DecreaseHealth();
        }

        if (score > 10)
        {
            speed = 12;
            UFOSpeed = 18;
        }
        if (healthMilestones.Contains(score))
        {
            Health++;
            healthMilestones.Remove(score); 
            NotifyHealthUpdate(Health);
        }

        NotifyScoreUpdate(score);
        NotifyHealthUpdate(Health);
    }
}
```
Функцијата **MainTimerEvent** е централна компонента на играта, управувајќи со целокупната динамика на играта. Прво, таа ги ажурира текстовите за поените и здравјето на екранот, овозможувајќи играчот да има преглед на својата состојба. Ако играта не е паузирана, функцијата продолжува со извршување на задачите. Движењето на хеликоптерот е управувано преку копчињата Up и Down. Ако хеликоптерот не е на врвот или дното на екранот, тој се движи со одредена брзина. Доколку хеликоптерот се судри со некоја пречка, се намалува здравјето преку повик на DecreaseHealth.

Детекцијата на судири помеѓу истрелите и НЛО-то е клучна функција; ако истрел се судри со НЛО, истиот се отстранува, а поените се зголемуваат и се поставува ново НЛО. Ако хеликоптерот се судри со НЛО, здравјето на играчот се намалува.
Брзината на играта се зголемува кога поените надминуваат одреден праг, правејќи ја играта потешка и поинтересна. Исто така, здравствените достигнувања се следат преку листата healthMilestones. Кога играчот достигнува одредени поени, здравјето се зголемува и се отстрануваат достигнатите поени од листата

На крај, функцијата ги известува сите observers за новите вредности на поените и здравјето преку NotifyScoreUpdate и NotifyHealthUpdate. Ова овозможува синхронизација со други делови од играта или интерфејсот кои можеби го следат напредокот на играчот. Во случај на завршување на играта, функцијата повикува GameOver, што го стопира тајмерот и покажува порака за крај на играта. Ако играчот достигне нов највисок резултат, се прикажува порака за нов рекорд.
